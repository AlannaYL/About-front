import{Q as _}from"./QTd.d7d4d992.js";import{Q as f}from"./QTable.ad32757a.js";import{H as g,aq as h,m as r,q as o,s as n,d as l,J as m,F as b,al as w,P as y}from"./index.1537a125.js";import{u as q}from"./use-quasar.241900d7.js";import"./use-dark.66c67066.js";import"./use-prevent-scroll.9494b20a.js";import"./use-key-composition.542e49a3.js";import"./QChip.35d8fad6.js";import"./selection.e84fc5a2.js";import"./QDialog.271221b8.js";import"./format.3e32b8d9.js";import"./QCheckbox.ea662263.js";const x={id:"AdminOrder"},Q=n("h4",{class:"text-center col-12"},"\u8A02\u55AE\u7BA1\u7406",-1),k={class:"row"},v={class:"col-12"},H={__name:"OrdersPage",setup(D){const d=q(),p=[{name:"ID",label:"\u8A02\u55AE\u7DE8\u865F",field:e=>e._id,align:"center"},{name:"date",label:"\u8A02\u55AE\u65E5\u671F",field:e=>new Date(e.date).toLocaleDateString(),align:"center"},{name:"account",label:"\u6703\u54E1",field:e=>e.u_id.account,align:"center"},{name:"number",label:"\u6578\u91CF",align:"center"},{name:"total",label:"\u5C0F\u8A08",field:e=>e.totalPrice,align:"center"}],i=g([]);return(async()=>{var e,s;try{const{data:t}=await h.get("/orders/all");i.push(...t.result.map(a=>(a.totalPrice=a.products.reduce((u,c)=>u+c.p_id.price*c.quantity,0),a)))}catch(t){d.notify({message:"\u53D6\u5F97\u5931\u6557",caption:((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)||"\u767C\u751F\u932F\u8AA4",color:"pink"})}})(),(e,s)=>(r(),o("div",x,[Q,n("div",k,[n("div",v,[l(f,{class:"item-center",rows:i,columns:p,"row-key":"_id"},{"body-cell-number":m(t=>[l(_,{class:"text-center"},{default:m(()=>[(r(!0),o(b,null,w(t.row.products,a=>(r(),o("p",null,y(a.quantity+"\u5F35"+a.p_id.title),1))),256))]),_:2},1024)]),_:1},8,["rows"])])])]))}};export{H as default};
